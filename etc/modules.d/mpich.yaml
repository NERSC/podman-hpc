name: mpich
cli_arg: mpi
help: Enable Cray MPICH Support
env: ENABLE_MPICH_SS
additional_args:
  - -e SLURM_*
  - -e PALS_*
  - -e PMI_*
  - -e LD_LIBRARY_PATH=/opt/udiImage/modules/mpich:/opt/udiImage/modules/mpich/dep
  - --ipc=host
  - --network=host
  - --pid=host
  - --privileged
copy:
  - /etc/podman_hpc/02-mpich.conf:/etc/ld.so.conf.d/02-mpich.conf
bind:
  - /dev/xpmem:/dev/xpmem
  - /dev/shm:/dev/shm
  - /dev/ss0:/dev/ss0
  - /dev/cxi*:/dev/cxi*
  - /usr/lib/shifter/mpich-1.3/:/opt/udiImage/modules/mpich
  - /opt/cray/libfabric/1.15.0.0/lib64/libfabric:/opt/cray/libfabric/1.15.0.0/lib64/libfabric
  - /var/spool/slurmd:/var/spool/slurmd
  - /etc/libibverbs.d:/etc/libibverbs.d
